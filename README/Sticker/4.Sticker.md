- ë¨¼ì € í•´ë‹¹ ì±•í„°ì˜ ë‚´ìš©ì„ í•˜ê¸°ì „ì— í´ë”ë¥¼ ëª‡ê°€ì§€ ë§Œë“¤ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- `Django` í”„ë¡œì íŠ¸ í´ë”ì— ìˆëŠ” `Static`ì— ë“¤ì–´ê°€ì…”ì„œ `camera_sticker`ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ì–´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ê·¸ë¦¬ê³  ê·¸ì•ˆì— AIê°€ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ ì´ë¯¸ì§€ë¥¼ ë‹´ëŠ” `images`ì™€ `LandMark`íŒŒì¼ì„ ë‹´ì„ `models`ë¥¼ ë§Œë“¤ì–´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```console
static
â””â”€â”€â”€camera_sticker
   â”œâ”€â”€â”€images
   â””â”€â”€â”€models
```

- ë§ˆì§€ë§‰ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ë¡œ ì‚¬ìš©ë  `image.png` ì™€ ìŠ¤í‹°ì»¤ê°€ ë  `king.png`ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤ .

- `image.png` : ì›í•˜ëŠ” ì‚¬ì§„ ì•„ë¬´ê±°ë‚˜ ì§€ì°¸ í•˜ì‹œë©´ ë©ë‹ˆë‹¤ .

- `king.png` : https://drive.google.com/file/d/1knZtRmrsXVqYutibA9O06QVhFXb4oWl4/view?usp=sharing

```console
static
â””â”€â”€â”€camera_sticker
   â”œâ”€â”€â”€images
   â”‚    â”œâ”€â”€ image.png
   â”‚    â””â”€â”€ king.png
   â””â”€â”€â”€models
```

- ê·¸ëŸ¼ ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì—¬ì£¼ëŠ” ì½”ë“œë¥¼ ì–´ë””ì„œ ê´€ë¦¬í•˜ëŠ”ì§€ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

- í”„ë¡œì íŠ¸ í´ë”ì— `utils` ë¼ëŠ” í´ë”ë¥¼ ë§Œë“¤ê³  ê·¸ì•ˆì— `sticker.py`ë¼ëŠ” íŒŒì¼ì•ˆì— ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ë©ë‹ˆë‹¤.

- í•˜ì§€ë§Œ ì½”ë“œ ì‘ì„± ì´ì „ì— ìš°ë¦¬ê°€ í•„ìš”í•œ `ë¼ì´ë¸ŒëŸ¬ë¦¬`ë“¤ì„ ì„¤ì¹˜í•˜ê³  ê°€ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
pip install opencv-python
pip install matplotlib
pip install cmake
pip install dlib
```

```py
import os
import cv2
import matplotlib.pyplot as plt
import numpy as np
import dlib
print("ğŸ›¸")
```

- ê²°ê³¼ë¬¼ì´ `ğŸ›¸`ì´ ë‚˜ì˜¤ëŠ”ê²ƒì„ ë³¼ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
my_image_path = 'C:/Users/kimud/ë°”íƒ• í™”ë©´/test2/KUD/firstproejct/static/camera_sticker/images/image.png'
my_image_path_encode= np.fromfile(my_image_path, np.uint8)
img_bgr = cv2.imdecode(my_image_path_encode,cv2.IMREAD_UNCHANGED)    # OpenCVë¡œ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
img_show = img_bgr.copy()      # ì¶œë ¥ìš© ì´ë¯¸ì§€ë¥¼ ë”°ë¡œ ë³´ê´€í•©ë‹ˆë‹¤

plt.imshow(img_bgr)
plt.show()
```

```py
  # Section 3
    # SVG detectorë¥¼ ì„ ì–¸í•©ë‹ˆë‹¤
    detector_hog = dlib.get_frontal_face_detector()

    # Bounding box ì¶”ì¶œ
    img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)
    dlib_rects = detector_hog(img_rgb, 1)   # (image, num of image pyramid)

    for dlib_rect in dlib_rects:
        l = dlib_rect.left()
        t = dlib_rect.top()
        r = dlib_rect.right()
        b = dlib_rect.bottom()

        cv2.rectangle(img_show, (l,t), (r,b), (0,255,0), 2, lineType=cv2.LINE_AA)

    img_show_rgb =  cv2.cvtColor(img_show, cv2.COLOR_BGR2RGB)
    plt.imshow(img_show_rgb)
    plt.show()

```

- ì ì´ì œ ì´ë¯¸ì§€ ë°•ìŠ¤ì— ì´ˆë¡ìƒ‰ ë„¤ëª¨ê°€ ìƒê¸°ê²Œ ë ê±°ì—ìš”( ë‹¤ë“¤ ì•Œê³  ê³„ì‹œì£ ? ã…ã… )

- ì´ì œ `Dlib`ì„ í†µí•´ `LandMark`ë¥¼ ì„¸ì›Œë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ë¨¼ì € ì•„ë˜ `URL`ì„ í†µí•´ `LandMark`íŒŒì¼ì„ ì„¤ì¹˜í•˜ì‹œê³ , ì••ì¶•ì„ í’€ì–´ `shape_predictor_68_face_landmarks`íŒŒì¼ì„ êº¼ë‚´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```
    http://dlib.net/files/shape_predictor_68_face_landmarks.dat.bz2
```

- `shape_predictor_68_face_landmarks.dat`íŒŒì¼ì„ ì•„ë˜ì™€ ê°™ì´ ë„£ì–´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```console
static
â””â”€â”€â”€camera_sticker
   â”œâ”€â”€â”€images
   â”‚   â”œâ”€â”€ image.png
   â”‚   â””â”€â”€ king.png
   â””â”€â”€â”€models
       â””â”€â”€â”€shape_predictor_68_face_landmarks.dat
```

- ê·¸ëŸ¼ `exploration`ì— ë”°ë¼ ëœë“œë§ˆí¬ë¥¼ ì°ì–´ì£¼ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ì´ë•Œ `model_path`í˜„ì¬ ì‘ì„±ìì˜ ì»´í“¨í„°ë¡œ ì‘ì„± ë˜ì–´ìˆìŠµë‹ˆë‹¤. (ì´ë¶€ë¶„ì€ ë³¸ì¸ ì»´í“¨í„°ì— ë§ì¶”ì–´ ì‘ì„±)

> ë˜í•œ ê²½ë¡œì— í•œê¸€ì´ ìˆìœ¼ë©´ ì•ˆë˜ë”ë¼....

```py
    # Section 4
    # LandMark ì°ê¸°
    model_path = 'C:/Users/kimud/KUD/firstproejct/static/camera_sticker/models/shape_predictor_68_face_landmarks.dat'
    landmark_predictor = dlib.shape_predictor(model_path)

    list_landmarks = []

    # ì–¼êµ´ ì˜ì—­ ë°•ìŠ¤ ë§ˆë‹¤ face landmarkë¥¼ ì°¾ì•„ëƒ…ë‹ˆë‹¤
    for dlib_rect in dlib_rects:
        points = landmark_predictor(img_rgb, dlib_rect)
        # face landmark ì¢Œí‘œë¥¼ ì €ì¥í•´ë‘¡ë‹ˆë‹¤
        list_points = list(map(lambda p: (p.x, p.y), points.parts()))
        list_landmarks.append(list_points)
```

- ì´ì œ `LandMark`ê°€ ì œëŒ€ë¡œ ì°í˜”ëŠ”ì§€ í™•ì¸ í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
  # Section 5
    # LandMark ì¶œë ¥

    for landmark in list_landmarks:
        for point in landmark:
            cv2.circle(img_show, point, 2, (0, 255, 255), -1)

    img_show_rgb = cv2.cvtColor(img_show, cv2.COLOR_BGR2RGB)
    plt.imshow(img_show_rgb)
    plt.show()
```

- `LandMark`ê°€ ì°íˆëŠ”ê²Œ í™•ì¸ì´ ë˜ì—ˆìœ¼ë©´ ì´ì œ ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì´ê³  ì •ë¦¬ í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ìŠ¤í‹°ì»¤ ì‚¬ì§„ì„ `path`ë¥¼ ì§€ì •í• ë•Œ ì—­ì‹œ ë³¸ì¸ì˜ `path`ë¥¼ ì§€ì •í•´ì•¼í•©ë‹ˆë‹¤.

```py
 # Section 6
    # ìŠ¤í‹°ì»¤ ìœ„ì¹˜ êµ¬í•˜ê¸°

    for dlib_rect, landmark in zip(dlib_rects, list_landmarks):
        x = landmark[30][0]
        y = landmark[30][1] - dlib_rect.height()//2
        w = h = dlib_rect.width()

    # ìŠ¤í‹°ì»¤ ì‚¬ì´ì¦ˆ ì¡°ì ˆ
    sticker_path = 'C:/Users/kimud/KUD/firstproejct/static/camera_sticker/images/king.png'
    img_sticker = cv2.imread(sticker_path) # ìŠ¤í‹°ì»¤ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
    img_sticker = cv2.resize(img_sticker, (w,h))

    # ìŠ¤í‹°ì»¤ìœ„ì¹˜ ì¡°ì •
    refined_x = x - w // 2
    refined_y = y - h

    # ìŠ¤í‹°ì»¤ ìœ„ì¹˜ ë„˜ì–´ê°€ë©´ ì˜ë¦¬ê²Œ
    if refined_x < 0:
        img_sticker = img_sticker[:, -refined_x:]
        refined_x = 0
    if refined_y < 0:
        img_sticker = img_sticker[-refined_y:, :]
        refined_y = 0

    # ì‚¬ì§„ì— ì ìš©í›„ ì¶œë ¥
    sticker_area = img_bgr[refined_y:refined_y +img_sticker.shape[0], refined_x:refined_x+img_sticker.shape[1]]
    img_bgr[refined_y:refined_y +img_sticker.shape[0], refined_x:refined_x+img_sticker.shape[1]] = \
        np.where(img_sticker==0,sticker_area,img_sticker).astype(np.uint8)

    plt.imshow(cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB))
    plt.show()
```

- ê·¸ëŸ¼ `python sticker.py`ë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì‚¬ì§„ì— ìŠ¤í‹°ì»¤ê°€ ë¶™ì—¬ì ¸ì„œ ë‚˜ì˜¤ëŠ”ê±¸ í™•ì¸ í• ìˆ˜ìˆìŠµë‹ˆë‹¤.

- ì´ì œ ì¥ê³ ì—ì„œ ì´ë¯¸ì§€ë¥¼ ë°›ì„ìˆ˜ ìˆë„ë¡ ì‚¬ì´íŠ¸ë¥¼ ë‘ê°œ ë§Œë“¤ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ì²«ë²ˆì§¸ ì‚¬ì´íŠ¸ëŠ” `input`ì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë°›ëŠ”ì—­í• ì„ í•˜ê³  ë‘ë²ˆì§¸ ì‚¬ì´íŠ¸ëŠ” `ouput`ì„ í™”ë©´ì— ë³´ì—¬ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

- ê·¸ëŸ¼ ë¨¼ì € `html` íŒŒì¼ì„ ë‘ê°œë¥¼ ë§Œë“¤ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- `stickerResult.html` : `image`ë¥¼ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sticker AI view</title>
  </head>
  <body>
    <div>
      <img src="{{ image }}" style="width: 40vw" alt="convertImage" />
    </div>
  </body>
</html>
```

- `sticker.html`: `input`íƒœê·¸ë¥¼ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë°›ê²Œ ë˜ëŠ” í˜ì´ì§€ì…ë‹ˆë‹¤.

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sticker AI</title>
  </head>
  <body>
    <div class="container">
      <!-- form actionì„ í†µí•´ ì´ë¯¸ì§€ê°€ ì „ì†¡ì´ ë˜ì—ˆì„ë•Œ ì²˜ë¦¬í•  ë‚´ìš©ë¬¼ì´ ì „ë‹¬ì´ ë˜ë©´ í˜ì´ì§€ ì´ë™-->
      <form
        method="POST"
        action="{% url 'stickerResult.html' %}"
        enctype="multipart/form-data"
      >
        {% csrf_token %}
        <input type="file" name="image" /><br />
        <input type="submit" value="í…ŒìŠ¤íŠ¸ í•´ë³´ê¸° " />
      </form>
    </div>
  </body>
</html>
```

- ì´ì œ `html`ì„ ë³´ì—¬ì£¼ëŠ”ê±¸ ë‹´ë‹¹í•˜ëŠ” `views.py`ì—ì„œ ì„¤ì •ì„ í•´ì£¼ê² ìŠµë‹ˆë‹¤.

- ì¼ë‹¨ `sticker`ëŠ” ë‹¨ìˆœí•˜ê²Œ í˜ì´ì§€ë§Œ ë³´ì—¬ì£¼ë©´ ë˜ê¸° ë•Œë¬¸ì— ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¹˜ë©´ë©ë‹ˆë‹¤.

```py
# views.py
def sticker(req):
    return render(req,'Landing/sticker.html')

```

- `stickerResult`ëŠ” ì´ë¯¸ì§€ì—ì„œ ë°›ì€ ê°’ì„ ê°€ê³µí•´ì„œ ë‹¤ì‹œ ì˜¬ë ¤í•˜ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ ì°¨ì´ê°€ ìˆì„ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- `POST`í†µì‹ ê³¼ `GET` í†µì‹ ì— ëŒ€í•´ì„ ëŠ ì•ì„œ `Figma`ë¥¼ í†µí•´ ì„¤ëª…ì„ ë“œë ¸ìŠµë‹ˆë‹¤.

- ì´ë¯¸ì§€ë¥¼ ë³´ë‚¼ìˆ˜ ìˆëŠ”ê±´ `POST` í†µì‹ ì´ê¸° ë•Œë¬¸ì— í•´ë‹¹ í†µì‹ ì´ ì™”ì„ë•Œ ì¸ê³µì§€ëŠ¥ì„ ëŒë ¤ ì²˜ë¦¬í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
# views.py
def stickerResult(request):
    if request.method == 'POST': # í†µì‹ ì´ postì¼ë•Œ
        try:
            img = request.FILES["image"].read() # í†µì‹ ì—ì„œ iamgeë¥¼ ì½ì–´ ë“œë¦¬ë„ë¡ í•œë‹¤.
            convertImg = ì¸ê³µì§€ëŠ¥ ì½”ë“œ  # ì¸ê³µì§€ëŠ¥ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤
            return render(request, 'Landing/stickerResult.html', {'image':convertImg}) # stickerResult.htmlì„ ë³´ì—¬ì¤„ë•Œ ê°€ê³µí•œ imageíŒŒì¼ë„ ê°™ì´ ë„˜ê¸´ë‹¤
        except:
            return   HttpResponse("ë³´ì—¬ì¤„ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤!") # image íŒŒì¼ì´ ì—†ìœ¼ë©´ ì²˜ë¦¬
    else:
        return   HttpResponse("ë³´ì—¬ì¤„ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤!") # post í†µì‹ ì´ ì•„ë‹ˆë©´ ìë£Œë¥¼ ë³´ë‚¼ìˆ˜ ì—†ì–´ì„œ ì˜ˆì™¸ ì²˜ë¦¬
```

- ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ë ‡ê²Œ `views`ì—ì„œ ì—´ì‹¬íˆ ì‘ì„±í•œ í•¨ìˆ˜ë¥¼ `urls.py`ì—ì„œ ì—°ê²°ì‹œì¼œ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
urlpatterns = [
    path('admin/', admin.site.urls),
    path('',Landing.views.index,name="index"),
    path('study',Landing.views.study,name="study"),
    path('sticker',Landing.views.sticker,name="sticker"), #ìŠ¤í‹°ì»¤ ì…ë ¥í•˜ëŠ” í˜ì´ì§€
    path('stickerResult',Landing.views.stickerResult,name="stickerResult") #ìŠ¤í‹°ì»¤ ë³´ì—¬ì£¼ëŠ” í˜ì´ì§€
]

```

- ì´ì œ ë‹¤ì‹œ ì¸ê³µì§€ëŠ¥ ì½”ë“œë¥¼ ë‹¤ë“¬ì„ë•Œê°€ ì™”ìŠµë‹ˆë‹¤.

- ë¨¼ì € ì´ì œëŠ” íŒŒì´ì¬ì„ í†µí•´ ì´ë¯¸ì§€ë¥¼ ë³´ì—¬ì¤„ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— `plt.imshow`, `plt.show` í•¨ìˆ˜ë¥¼ ë‚ ë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

- ê·¸ë¦¬ê³  `opencv`ë¥¼ í†µí•´ ê°€ê³µí•œ ì´ë¯¸ì§€ë¥¼ ì½ì„ìˆ˜ ìˆë„ë¡ ë³€í™˜í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ëª‡ê°€ì§€ ì½”ë“œë¥¼ ì¶”ê°€í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

```py
import os
import cv2
import matplotlib.pyplot as plt
import numpy as np
import dlib
# img íƒœê·¸ì—ì„œ ì½ì„ìˆ˜ ìˆë„ë¡ ê°€ê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
import base64

# í•¨ìˆ˜ë¥¼ í†µí•´ ë¶ˆëŸ¬ì™€ ì‹¤í–‰ ì‹œí‚¬ìˆ˜ ìˆë„ë¡ í•¨ìˆ˜í™”
def stickerGen(img):
    img_bgr = cv2.imdecode(np.fromstring(img, np.uint8), cv2.IMREAD_UNCHANGED)
    img_show = img_bgr.copy()

    detector_hog = dlib.get_frontal_face_detector()

    img_rgb = cv2.cvtColor(img_bgr, cv2.COLOR_BGR2RGB)
    dlib_rects = detector_hog(img_rgb, 1)

    for dlib_rect in dlib_rects:
        l = dlib_rect.left()
        t = dlib_rect.top()
        r = dlib_rect.right()
        b = dlib_rect.bottom()

        cv2.rectangle(img_show, (l,t), (r,b), (0,255,0), 2, lineType=cv2.LINE_AA)

    img_show_rgb =  cv2.cvtColor(img_show, cv2.COLOR_BGR2RGB)

    model_path = 'C:/Users/kimud/KUD/firstproejct/static/camera_sticker/models/shape_predictor_68_face_landmarks.dat'
    landmark_predictor = dlib.shape_predictor(model_path)

    list_landmarks = []

    for dlib_rect in dlib_rects:
        points = landmark_predictor(img_rgb, dlib_rect)
        list_points = list(map(lambda p: (p.x, p.y), points.parts()))
        list_landmarks.append(list_points)


    for landmark in list_landmarks:
        for point in landmark:
            cv2.circle(img_show, point, 2, (0, 255, 255), -1)

    img_show_rgb = cv2.cvtColor(img_show, cv2.COLOR_BGR2RGB)


    for dlib_rect, landmark in zip(dlib_rects, list_landmarks):
        x = landmark[30][0]
        y = landmark[30][1] - dlib_rect.height()//2
        w = h = dlib_rect.width()

    sticker_path = 'C:/Users/kimud/KUD/firstproejct/static/camera_sticker/images/king.png'
    img_sticker = cv2.imread(sticker_path) # ìŠ¤í‹°ì»¤ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
    img_sticker = cv2.resize(img_sticker, (w,h))

    refined_x = x - w // 2
    refined_y = y - h

    if refined_x < 0:
        img_sticker = img_sticker[:, -refined_x:]
        refined_x = 0
    if refined_y < 0:
        img_sticker = img_sticker[-refined_y:, :]
        refined_y = 0

    sticker_area = img_bgr[refined_y:refined_y +img_sticker.shape[0], refined_x:refined_x+img_sticker.shape[1]]
    img_bgr[refined_y:refined_y +img_sticker.shape[0], refined_x:refined_x+img_sticker.shape[1]] = \
        np.where(img_sticker==0,sticker_area,img_sticker).astype(np.uint8)


    # ì´ë¯¸ì§€ë¥¼ imgíƒœê·¸ì—ì„œ ë„£ì–´ ì¸ì‹í• ìˆ˜ ìˆë„ë¡ ì½”ë“œë¥¼ ë³€ê²½
    img_bgr_buffer= cv2.imencode('.jpg', img_bgr)[1]
    # img íƒœê·¸ì— srcì—ì„œ ìë£Œë¥¼ ì½ê¸° ìœ„í•´ì„œëŠ” base64 ê¸°ë°˜ì˜ utf-8 ì¸ì½”ë”©ì´ í•„ìš”
    result = base64.b64encode(img_bgr_buffer).decode("utf-8")
    return result
```

- í•´ë‹¹ ì½”ë“œë¥¼ ìœ„ì™€ ê°™ì´ ìˆ˜ì •í•˜ì‹œê³  `views.py`ì—ì„œ ì¸ê³µì§€ëŠ¥ì„ ë³´ì—¬ì£¼ëŠ” ì½”ë“œ ì—­ì‹œ ì•„ë˜ì™€ ê°™ì´ ë°”ê¿”ì£¼ë„ë¡ í•©ì‹œë‹¤.

```py
from django.shortcuts import render
from django.core.files.storage import default_storage
# httpResponseë¥¼ ìœ„í•´ ì„í¬íŠ¸
from django.http import HttpResponse
# ì¸ê³µì§€ëŠ¥ì„ ê´€ë¦¬í•˜ëŠ” ì½”ë“œ ì„í¬íŠ¸
from utils.sticker import stickerGen


# Create your views here.
def index(req):
    return render(req,'Landing/index.html')

def sticker(req):
    return render(req,'Landing/sticker.html')

def study(req):
    return render(req,'Landing/study.html')


def stickerResult(request):
    if request.method == 'POST': # í†µì‹ ì´ postì¼ë•Œ
        try:
            img = request.FILES["image"].read() # í†µì‹ ì—ì„œ iamgeë¥¼ ì½ë„ë¡ í•œë‹¤.
            convertImg = "data:image/jpg;base64, "+str(stickerGen(img)) # Html img íƒœê·¸ì—ì„œ ì¶œë ¥í• ìˆ˜ ìˆë„ë¡ base64 íƒ€ì…ìœ¼ë¡œ ë³€í™˜
            return render(request, 'Landing/stickerResult.html', {'image':convertImg}) # stickerResult.htmlì„ ë³´ì—¬ì¤„ë•Œ ê°€ê³µí•œ imageíŒŒì¼ë„ ê°™ì´ ë„˜ê¸´ë‹¤
        except:
            return   HttpResponse("ë³´ì—¬ì¤„ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤!") # image íŒŒì¼ì´ ì—†ìœ¼ë©´ ì²˜ë¦¬
    else:
        return   HttpResponse("ë³´ì—¬ì¤„ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤!") # post í†µì‹ ì´ ì•„ë‹ˆë©´ ìë£Œë¥¼ ë³´ë‚¼ìˆ˜ ì—†ì–´ì„œ ì˜ˆì™¸ ì²˜ë¦¬
```
